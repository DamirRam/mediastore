window.addEventListener("load",function(){var e;function t(){return document.querySelector(".a18622da_e04c_41fc_b6ea_82a9b5417c40_6bd79e10_5bb8_4d3b_a208_ccc01b469bf4_root")}function n(){const e=t(),n=document.querySelector(".js-footer");let o=n.getBoundingClientRect().top,l=n.offsetHeight,r=document.documentElement.clientHeight;o-=r-=l,e.style.display=o<=l?"none":"block"}"function"!=typeof(e=window.Element.prototype).matches&&(e.matches=e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),o=0;n[o]&&n[o]!==t;)++o;return Boolean(n[o])}),"function"!=typeof e.closest&&(e.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),setTimeout(n,1500),document.onscroll=function(){n()};const o=document.body;let l;function r(e){l=window.pageYOffset;let n=window.innerWidth-o.offsetWidth;e.style.overflowY="scroll",o.style.overflowY="hidden",o.style.top="-"+l+"px",o.style.right=n+"px",o.style.position="fixed";const r=t();"0px"==window.getComputedStyle(r).right&&(r.style.right=n+"px")}function c(e){let n=window.innerWidth-o.offsetWidth;e.style.overflowY="hidden",o.style.position="static",o.style.right="0px",o.style.overflowY="scroll",window.scroll(0,l);const r=t();window.getComputedStyle(r).right==n+"px"&&(r.style.right="0px")}function a(e,t,n){let o;return function(){let l=this,r=arguments,c=n&&!o;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(l,r)},t),c&&e.apply(l,r)}}let s=document.querySelectorAll(".js-open-modal"),i=document.querySelectorAll(".js-close-modal"),u=document.querySelectorAll(".modal"),d=document.querySelectorAll(".modal__content"),f=300,m=a(function(e,t){let n=0,o=setInterval(function(){t.classList.add("active"),n+=.04,t.style.opacity=n,n>=1&&(clearInterval(o),t.style.opacity=1)},e/25)},f),p=a(function(e,t){let n=1,o=setInterval(function(){n-=.04,t.style.opacity=n,n<=0&&(clearInterval(o),t.style.opacity=0,t.classList.remove("active"))},e/25)},f);setTimeout(function(){for(let e=0;e<s.length;e++)s[e].addEventListener("click",function(e){e.preventDefault();let t=this.getAttribute("data-modal"),n=document.querySelector(".modal[data-modal='"+t+"']");m(f,n),r(n)})},1e3);for(let e=0;e<i.length;e++)i[e].addEventListener("click",function(e){let t=this.closest(".modal");p(f,t),c(t)});for(let e=0;e<u.length;e++)u[e].addEventListener("click",function(e){let t=this.closest(".modal");p(f,t),c(t)},!1);for(let e=0;e<d.length;e++)d[e].addEventListener("click",function(e){e.stopPropagation()});let y=document.querySelectorAll("button");for(let e=0;e<y.length;e++)y[e].addEventListener("mousedown",function(e){e.preventDefault()});function h(e){let t=document.querySelector(e),n=t.parentNode.querySelector(".js-btn-next"),o=t.parentNode.querySelector(".js-btn-prev"),l=0;t=t.children,n.onclick=function(){t[l].style.opacity="0",++l==t.length&&(l=0),t[l].style.opacity="1"},o.onclick=function(){t[l].style.opacity="0",-1==--l&&(l=t.length-1),t[l].style.opacity="1"}}function _(e,t){let n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){let e=document.querySelector(".modal[data-modal='thanks']");m(f,e),r(e),t.querySelector("input[name=user_name]").value="",t.querySelector("input[name=user_phone]").value="",1==t.classList.contains("question__form")&&(userMessage=t.querySelector("textarea[name=user_message]").value="")}},n.open("POST","../mailer/mail.php"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(e)}h(".js-slider-1"),h(".js-slider-2"),h(".js-slider-3"),h(".js-slider-4"),setTimeout(function(){let e=document.createElement("script"),t=document.querySelector("script");e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;apikey=",t.parentNode.insertBefore(e,t),e.addEventListener("load",function(){ymaps.ready(function(){let e=new ymaps.Map("js-map",{center:[41.24449630624949,69.1649516601672],zoom:17,controls:["zoomControl","typeSelector","fullscreenControl","trafficControl","geolocationControl"]},{searchControlProvider:"yandex#search"});e.geoObjects.add(new ymaps.Placemark([41.24479615429822,69.16872715770823],{balloonContent:"MediaStore<br>Пн - Вс 9:00 - 17:00<br>Без выходных",iconCaption:"Абу Сахий"},{preset:"islands#greenDotIconWithCaption",iconColor:"#ed4544"})),function(e){let t=window.innerWidth;function n(n){t<=992&&t>768&&e.setCenter([41.24452892817815,69.16605567752941]),t<=768&&e.setCenter([41.24479615429822,69.16872715770823]),t>992&&e.setCenter([41.24449630624949,69.1649516601672])}n(),window.onresize=function(){t=window.innerWidth,n()}}(e)})})},1500);let g=document.querySelectorAll("form");for(let e=0;e<g.length;e++)g[e].addEventListener("submit",function(e){e.preventDefault();let t=e.target,n=t.querySelector("input[name=user_name]").value,o=t.querySelector("input[name=user_phone]").value,l="";if("+998(__)-___-__-__"==o)return!1;if(1==t.classList.contains("question__form")&&(l=t.querySelector("textarea[name=user_message]").value),_("user_name="+n+"&user_phone="+o+"&user_message="+l,t),1==t.closest(".js-modal").hasAttribute("data-modal")){let e=t.closest(".modal");p(f,e),c(t.closest(".js-modal"))}});function v(e){var t=this.defaultValue,n=0,o=t.replace(/\D/g,""),l=this.value.replace(/\D/g,"");o.length>=l.length&&(l=o),t=t.replace(/[_\d]/g,function(e){return l.charAt(n++)||"_"}),this.value=t,(n=t.lastIndexOf(l.substr(-1)))<t.length&&t!=this.defaultValue?n++:n=t.indexOf("_"),function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}}(n,this)}let w=document.querySelectorAll("input[type=tel]");for(let e=0;e<w.length;e++)w[e].addEventListener("focus",function(e){e.target.setAttribute("value","+998(__)-___-__-__")}),w[e].addEventListener("blur",function(e){e.target.removeAttribute("value")}),w[e].addEventListener("input",v,!1)});